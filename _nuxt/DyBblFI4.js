import{_ as L}from"./Ki-KqC1x.js";import{D as y,u as b,L as x,P as R,v as P,M as S,N as B,K as u,O as p,r as N,a as A,Q as C,R as j,S as d,U as w,V as O,W as T,X as E,Y as H,E as M,G as V,H as $,I as D,J as h,e as c,w as I,d as v,f as q,h as G}from"./Vbwk_DTN.js";const J=y({name:"LayoutLoader",inheritAttrs:!1,props:{name:String,layoutProps:Object},setup(o,t){return()=>d(p[o.name],o.layoutProps,t.slots)}}),K={name:{type:[String,Boolean,Object],default:null},fallback:{type:[String,Object],default:null}},Q=y({name:"NuxtLayout",inheritAttrs:!1,props:K,setup(o,t){const a=b(),s=x(R),e=s===P()?S():s,r=B(()=>{let n=u(o.name)??e.meta.layout??"default";return n&&!(n in p)&&o.fallback&&(n=u(o.fallback)),n}),l=N();t.expose({layoutRef:l});const i=a.deferHydration();if(a.isHydrating){const n=a.hooks.hookOnce("app:error",i);A().beforeEach(n)}return()=>{const n=r.value&&r.value in p,m=e.meta.layoutTransition??C;return j(n&&m,{default:()=>d(T,{suspensible:!0,onResolve:()=>{O(i)}},{default:()=>d(U,{layoutProps:w(t.attrs,{ref:l}),key:r.value||void 0,name:r.value,shouldProvide:!o.name,hasTransition:!!m},t.slots)})}).default()}}}),U=y({name:"NuxtLayoutProvider",inheritAttrs:!1,props:{name:{type:[String,Boolean]},layoutProps:{type:Object},hasTransition:{type:Boolean},shouldProvide:{type:Boolean}},setup(o,t){const a=o.name;return o.shouldProvide&&E(H,{isCurrent:s=>a===(s.meta.layout??"default")}),()=>{var s,e;return!a||typeof a=="string"&&!(a in p)?(e=(s=t.slots).default)==null?void 0:e.call(s):d(J,{key:a,layoutProps:o.layoutProps,name:a},t.slots)}}}),W={key:0,class:"image w-1/2"},X=["src"],Y={key:2},Z=y({__name:"[slug]",async setup(o){var r,l,i;let t,a;const s=P(),{data:e}=([t,a]=M(()=>V(s.path,()=>$("blog").path(s.path).first(),"$u3amxh-t_8")),t=await t,a(),t);return console.log(e.value),D({title:(r=e.value)==null?void 0:r.title,author:(l=e.value)==null?void 0:l.author,description:(i=e.value)==null?void 0:i.description}),(n,m)=>{const g=L,k=Q;return c(),h(k,null,{default:I(()=>{var f,_;return[(f=u(e))!=null&&f.image?(c(),v("div",W,[G("img",{src:(_=u(e))==null?void 0:_.image,class:"rounded-md"},null,8,X)])):q("",!0),u(e)?(c(),h(g,{key:1,value:u(e)},null,8,["value"])):(c(),v("div",Y," No post found "))]}),_:1})}}});export{Z as default};
