import{as as W,at as re,$ as O,au as j,av as V,aw as G,r as P,M as v,e as m,w as f,N as g,P as e,ax as J,ay as _,az as ie,c as Q,aA as D,aB as $,aC as U,aD as X,S as A,aE as Y,aF as Z,aG as le,g as b,aH as ee,aI as te,O as B,aJ as ue,aK as de,aL as R,aM as pe,aN as L,aO as oe,aP as ne,o as ae,al as ce,aQ as fe,aR as ve,aS as me,E as ye,z as ge,aT as q,aU as he,aV as F,aW as Oe,K as T,L as x,f as H,n as Ce,aX as we}from"./BAYArnor.js";let I=0;function Pe(){W(n=>{if(!re)return;const a=document.querySelectorAll("[data-reka-focus-guard]");document.body.insertAdjacentElement("afterbegin",a[0]??z()),document.body.insertAdjacentElement("beforeend",a[1]??z()),I++,n(()=>{I===1&&document.querySelectorAll("[data-reka-focus-guard]").forEach(t=>t.remove()),I--})})}function z(){const n=document.createElement("span");return n.setAttribute("data-reka-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}const[E,_e]=j("PopoverRoot"),Be=O({__name:"PopoverRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},modal:{type:Boolean,default:!1}},emits:["update:open"],setup(n,{emit:a}){const t=n,o=a,{modal:u}=V(t),i=G(t,"open",o,{defaultValue:t.defaultOpen,passive:t.open===void 0}),s=P(),r=P(!1);return _e({contentId:"",triggerId:"",modal:u,open:i,onOpenChange:l=>{i.value=l},onOpenToggle:()=>{i.value=!i.value},triggerElement:s,hasCustomAnchor:r}),(l,p)=>(m(),v(e(J),null,{default:f(()=>[g(l.$slots,"default",{open:e(i)})]),_:3}))}}),be=O({__name:"PopoverAnchor",props:{reference:{},asChild:{type:Boolean},as:{}},setup(n){const a=n;_();const t=E();return ie(()=>{t.hasCustomAnchor.value=!0}),Q(()=>{t.hasCustomAnchor.value=!1}),(o,u)=>(m(),v(e(U),D($(a)),{default:f(()=>[g(o.$slots,"default")]),_:3},16))}}),ke=O({__name:"PopoverArrow",props:{width:{default:10},height:{default:5},rounded:{type:Boolean},asChild:{type:Boolean},as:{default:"svg"}},setup(n){const a=n;return _(),(t,o)=>(m(),v(e(X),D($(a)),{default:f(()=>[g(t.$slots,"default")]),_:3},16))}}),De=O({__name:"PopoverClose",props:{asChild:{type:Boolean},as:{default:"button"}},setup(n){const a=n;_();const t=E();return(o,u)=>(m(),v(e(A),{type:o.as==="button"?"button":void 0,as:o.as,"as-child":a.asChild,onClick:u[0]||(u[0]=i=>e(t).onOpenChange(!1))},{default:f(()=>[g(o.$slots,"default")]),_:3},8,["type","as","as-child"]))}}),$e=O({__name:"PopoverPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(n){const a=n;return(t,o)=>(m(),v(e(Y),D($(a)),{default:f(()=>[g(t.$slots,"default")]),_:3},16))}}),se=O({__name:"PopoverContentImpl",props:{trapFocus:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(n,{emit:a}){const t=n,o=a,u=Z(le(t,"trapFocus","disableOutsidePointerEvents")),{forwardRef:i}=_(),s=E();return Pe(),(r,l)=>(m(),v(e(ue),{"as-child":"",loop:"",trapped:r.trapFocus,onMountAutoFocus:l[5]||(l[5]=p=>o("openAutoFocus",p)),onUnmountAutoFocus:l[6]||(l[6]=p=>o("closeAutoFocus",p))},{default:f(()=>[b(e(ee),{"as-child":"","disable-outside-pointer-events":r.disableOutsidePointerEvents,onPointerDownOutside:l[0]||(l[0]=p=>o("pointerDownOutside",p)),onInteractOutside:l[1]||(l[1]=p=>o("interactOutside",p)),onEscapeKeyDown:l[2]||(l[2]=p=>o("escapeKeyDown",p)),onFocusOutside:l[3]||(l[3]=p=>o("focusOutside",p)),onDismiss:l[4]||(l[4]=p=>e(s).onOpenChange(!1))},{default:f(()=>[b(e(te),B(e(u),{id:e(s).contentId,ref:e(i),"data-state":e(s).open.value?"open":"closed","aria-labelledby":e(s).triggerId,style:{"--reka-popover-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-popover-content-available-width":"var(--reka-popper-available-width)","--reka-popover-content-available-height":"var(--reka-popper-available-height)","--reka-popover-trigger-width":"var(--reka-popper-anchor-width)","--reka-popover-trigger-height":"var(--reka-popper-anchor-height)"},role:"dialog"}),{default:f(()=>[g(r.$slots,"default")]),_:3},16,["id","data-state","aria-labelledby"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),Ee=O({__name:"PopoverContentModal",props:{side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(n,{emit:a}){const t=n,o=a,u=E(),i=P(!1);de(!0);const s=R(t,o),{forwardRef:r,currentElement:l}=_();return pe(l),(p,c)=>(m(),v(se,B(e(s),{ref:e(r),"trap-focus":e(u).open.value,"disable-outside-pointer-events":"",onCloseAutoFocus:c[0]||(c[0]=L(h=>{var C;o("closeAutoFocus",h),i.value||(C=e(u).triggerElement.value)==null||C.focus()},["prevent"])),onPointerDownOutside:c[1]||(c[1]=h=>{o("pointerDownOutside",h);const C=h.detail.originalEvent,y=C.button===0&&C.ctrlKey===!0,d=C.button===2||y;i.value=d}),onFocusOutside:c[2]||(c[2]=L(()=>{},["prevent"]))}),{default:f(()=>[g(p.$slots,"default")]),_:3},16,["trap-focus"]))}}),Se=O({__name:"PopoverContentNonModal",props:{side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(n,{emit:a}){const t=n,o=a,u=E(),i=P(!1),s=P(!1),r=R(t,o);return(l,p)=>(m(),v(se,B(e(r),{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:p[0]||(p[0]=c=>{var h;o("closeAutoFocus",c),c.defaultPrevented||(i.value||(h=e(u).triggerElement.value)==null||h.focus(),c.preventDefault()),i.value=!1,s.value=!1}),onInteractOutside:p[1]||(p[1]=async c=>{var y;o("interactOutside",c),c.defaultPrevented||(i.value=!0,c.detail.originalEvent.type==="pointerdown"&&(s.value=!0));const h=c.target;((y=e(u).triggerElement.value)==null?void 0:y.contains(h))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&s.value&&c.preventDefault()})}),{default:f(()=>[g(l.$slots,"default")]),_:3},16))}}),Re=O({__name:"PopoverContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(n,{emit:a}){const t=n,o=a,u=E(),i=R(t,o),{forwardRef:s}=_();return u.contentId||(u.contentId=oe(void 0,"reka-popover-content")),(r,l)=>(m(),v(e(ne),{present:r.forceMount||e(u).open.value},{default:f(()=>[e(u).modal.value?(m(),v(Ee,B({key:0},e(i),{ref:e(s)}),{default:f(()=>[g(r.$slots,"default")]),_:3},16)):(m(),v(Se,B({key:1},e(i),{ref:e(s)}),{default:f(()=>[g(r.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Ae=O({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{default:"button"}},setup(n){const a=n,t=E(),{forwardRef:o,currentElement:u}=_();return t.triggerId||(t.triggerId=oe(void 0,"reka-popover-trigger")),ae(()=>{t.triggerElement.value=u.value}),(i,s)=>(m(),v(ce(e(t).hasCustomAnchor.value?e(A):e(U)),{"as-child":""},{default:f(()=>[b(e(A),{id:e(t).triggerId,ref:e(o),type:i.as==="button"?"button":void 0,"aria-haspopup":"dialog","aria-expanded":e(t).open.value,"aria-controls":e(t).contentId,"data-state":e(t).open.value?"open":"closed",as:i.as,"as-child":a.asChild,onClick:e(t).onOpenToggle},{default:f(()=>[g(i.$slots,"default")]),_:3},8,["id","type","aria-expanded","aria-controls","data-state","as","as-child","onClick"])]),_:3}))}}),Fe=O({__name:"HoverCardArrow",props:{width:{default:10},height:{default:5},rounded:{type:Boolean},asChild:{type:Boolean},as:{default:"svg"}},setup(n){const a=n;return _(),(t,o)=>(m(),v(e(X),D($(a)),{default:f(()=>[g(t.$slots,"default")]),_:3},16))}});function M(n){return a=>a.pointerType==="touch"?void 0:n()}function Te(n){const a=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;t.nextNode();)a.push(t.currentNode);return a}const[K,Ie]=j("HoverCardRoot"),Le=O({__name:"HoverCardRoot",props:{defaultOpen:{type:Boolean,default:!1},open:{type:Boolean,default:void 0},openDelay:{default:700},closeDelay:{default:300}},emits:["update:open"],setup(n,{emit:a}){const t=n,o=a,{openDelay:u,closeDelay:i}=V(t);_();const s=G(t,"open",o,{defaultValue:t.defaultOpen,passive:t.open===void 0}),r=P(0),l=P(0),p=P(!1),c=P(!1),h=P(!1),C=P();function y(){clearTimeout(l.value),r.value=window.setTimeout(()=>s.value=!0,u.value)}function d(){clearTimeout(r.value),!p.value&&!c.value&&(l.value=window.setTimeout(()=>s.value=!1,i.value))}function w(){s.value=!1}return Ie({open:s,onOpenChange(k){s.value=k},onOpen:y,onClose:d,onDismiss:w,hasSelectionRef:p,isPointerDownOnContentRef:c,isPointerInTransitRef:h,triggerElement:C}),(k,S)=>(m(),v(e(J),null,{default:f(()=>[g(k.$slots,"default",{open:e(s)})]),_:3}))}}),Me=O({__name:"HoverCardContentImpl",props:{side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(n,{emit:a}){const t=n,o=a,u=Z(t),{forwardRef:i,currentElement:s}=_(),r=K(),{isPointerInTransit:l,onPointerExit:p}=fe(r.triggerElement,s);ve(r.isPointerInTransitRef,l,{direction:"rtl"}),p(()=>{r.onClose()});const c=P(!1);let h;W(y=>{if(c.value){const d=document.body;h=d.style.userSelect||d.style.webkitUserSelect,d.style.userSelect="none",d.style.webkitUserSelect="none",y(()=>{d.style.userSelect=h,d.style.webkitUserSelect=h})}});function C(){c.value=!1,r.isPointerDownOnContentRef.value=!1,me(()=>{var d;((d=document.getSelection())==null?void 0:d.toString())!==""&&(r.hasSelectionRef.value=!0)})}return ae(()=>{s.value&&(document.addEventListener("pointerup",C),Te(s.value).forEach(d=>d.setAttribute("tabindex","-1")))}),Q(()=>{document.removeEventListener("pointerup",C),r.hasSelectionRef.value=!1,r.isPointerDownOnContentRef.value=!1}),(y,d)=>(m(),v(e(ee),{"as-child":"","disable-outside-pointer-events":!1,onEscapeKeyDown:d[1]||(d[1]=w=>o("escapeKeyDown",w)),onPointerDownOutside:d[2]||(d[2]=w=>o("pointerDownOutside",w)),onFocusOutside:d[3]||(d[3]=L(w=>o("focusOutside",w),["prevent"])),onDismiss:e(r).onDismiss},{default:f(()=>[b(e(te),B({...e(u),...y.$attrs},{ref:e(i),"data-state":e(r).open.value?"open":"closed",style:{userSelect:c.value?"text":void 0,WebkitUserSelect:c.value?"text":void 0,"--reka-hover-card-content-transform-origin":"var(--reka-popper-transform-origin)","--reka-hover-card-content-available-width":"var(--reka-popper-available-width)","--reka-hover-card-content-available-height":"var(--reka-popper-available-height)","--reka-hover-card-trigger-width":"var(--reka-popper-anchor-width)","--reka-hover-card-trigger-height":"var(--reka-popper-anchor-height)"},onPointerdown:d[0]||(d[0]=w=>{w.currentTarget.contains(w.target)&&(c.value=!0),e(r).hasSelectionRef.value=!1,e(r).isPointerDownOnContentRef.value=!0})}),{default:f(()=>[g(y.$slots,"default")]),_:3},16,["data-state","style"])]),_:3},8,["onDismiss"]))}}),Ue=O({__name:"HoverCardContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside"],setup(n,{emit:a}){const u=R(n,a),{forwardRef:i}=_(),s=K();return(r,l)=>(m(),v(e(ne),{present:r.forceMount||e(s).open.value},{default:f(()=>[b(Me,B(e(u),{ref:e(i),onPointerenter:l[0]||(l[0]=p=>e(M)(e(s).onOpen)(p))}),{default:f(()=>[g(r.$slots,"default")]),_:3},16)]),_:3},8,["present"]))}}),Ke=O({__name:"HoverCardPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(n){const a=n;return(t,o)=>(m(),v(e(Y),D($(a)),{default:f(()=>[g(t.$slots,"default")]),_:3},16))}}),Ne=O({__name:"HoverCardTrigger",props:{reference:{},asChild:{type:Boolean},as:{default:"a"}},setup(n){const{forwardRef:a,currentElement:t}=_(),o=K();o.triggerElement=t;function u(){setTimeout(()=>{!o.isPointerInTransitRef.value&&!o.open.value&&o.onClose()},0)}return(i,s)=>(m(),v(e(U),{"as-child":"",reference:i.reference},{default:f(()=>[b(e(A),{ref:e(a),"as-child":i.asChild,as:i.as,"data-state":e(o).open.value?"open":"closed","data-grace-area-trigger":"",onPointerenter:s[0]||(s[0]=r=>e(M)(e(o).onOpen)(r)),onPointerleave:s[1]||(s[1]=r=>e(M)(u)(r)),onFocus:s[2]||(s[2]=r=>e(o).onOpen()),onBlur:s[3]||(s[3]=r=>e(o).onClose())},{default:f(()=>[g(i.$slots,"default")]),_:3},8,["as-child","as","data-state"])]),_:3},8,["reference"]))}}),qe={Root:Le,Trigger:Ne,Portal:Ke,Content:Ue,Arrow:Fe},xe={Root:Be,Trigger:Ae,Portal:$e,Content:Re,Arrow:ke,Close:De,Anchor:be},He={slots:{content:"bg-default shadow-lg rounded-md ring ring-default data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in] origin-(--reka-popover-content-transform-origin) focus:outline-none pointer-events-auto",arrow:"fill-default"}},We={__name:"UPopover",props:{mode:{type:String,required:!1,default:"click"},content:{type:Object,required:!1},arrow:{type:[Boolean,Object],required:!1},portal:{type:[Boolean,String],required:!1,skipCheck:!0,default:!0},dismissible:{type:Boolean,required:!1,default:!0},class:{type:null,required:!1},ui:{type:null,required:!1},defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1},modal:{type:Boolean,required:!1},openDelay:{type:Number,required:!1,default:0},closeDelay:{type:Number,required:!1,default:0}},emits:["close:prevent","update:open"],setup(n,{emit:a}){const t=n,o=a,u=ye(),i=ge(),s=t.mode==="hover"?q(t,"defaultOpen","open","openDelay","closeDelay"):q(t,"defaultOpen","open","modal"),r=R(s,o),l=he(F(()=>t.portal)),p=F(()=>Oe(t.content,{side:"bottom",sideOffset:8,collisionPadding:8})),c=T(()=>t.dismissible?{}:["pointerDownOutside","interactOutside","escapeKeyDown"].reduce((w,k)=>(w[k]=S=>{S.preventDefault(),o("close:prevent")},w),{})),h=F(()=>t.arrow),C=T(()=>{var d;return x({extend:x(He),...((d=i.ui)==null?void 0:d.popover)||{}})({side:p.value.side})}),y=T(()=>t.mode==="hover"?qe:xe);return(d,w)=>(m(),v(e(y).Root,D($(e(r))),{default:f(({open:k})=>[u.default?(m(),v(e(y).Trigger,{key:0,"as-child":"",class:Ce(t.class)},{default:f(()=>[g(d.$slots,"default",{open:k})]),_:2},1032,["class"])):H("",!0),b(e(y).Portal,D($(e(l))),{default:f(()=>{var S;return[b(e(y).Content,B(p.value,{class:C.value.content({class:[!u.default&&t.class,(S=t.ui)==null?void 0:S.content]})},we(c.value)),{default:f(()=>{var N;return[g(d.$slots,"content"),n.arrow?(m(),v(e(y).Arrow,B({key:0},h.value,{class:C.value.arrow({class:(N=t.ui)==null?void 0:N.arrow})}),null,16,["class"])):H("",!0)]}),_:3},16,["class"])]}),_:3},16)]),_:3},16))}};export{We as _};
